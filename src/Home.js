import React from 'react'
import { useNavigate, useSearchParams } from "react-router-dom"
import Loading from './Loading'
import { login, logout, parseNearAmount, formatNearAmount } from './utils'

export default function Home() {
    
    const navigate = useNavigate()
    
    React.useEffect(() => {
        if(window.walletConnection.isSignedIn()) {
            navigate('/bid', { replace: true })
        }
    }, [])
    
    if(window.walletConnection.isSignedIn()) {
        return <Loading />
    }

    return (
    <main style={{textAlign:'center'}}>
        <h1 id='wordle-title' style={{ textAlign: 'center', fontFamily: 'Abril Fatface, cursive', fontSize: '3.5em'}}>
            <span style={{'--i':'1'}}>W</span>
            <span style={{'--i':'2'}}>o</span>
            <span style={{'--i':'3'}}>r</span>
            <span style={{'--i':'4'}}>d</span>
            <span style={{'--i':'5'}}>u</span>
            <span style={{'--i':'6'}}>e</span>
            <span style={{'--i':'7'}}>l</span>
        </h1>
        <p style={{paddingTop: '20px'}}>
            Are you confident in your wordle skills?
        </p>
        <p>
            Ready to take on the world's most competitive wordle game?
        </p>
        <p>
            Have a few NEAR tokens laying around?
        </p>
        <button onClick={login} style={{
            display: 'inline-flex',
            justifyContent: 'center',
            alignItems: 'center',
        }}>
            Play with
            <svg viewBox='100 10 37 32'
            style={{
                width: '10%',
                marginLeft: '5px',
            }}>
                <path d="M125.566 15.8211L120.34 23.5263C120.266 23.6373 120.234 23.7713 120.252 23.9035C120.269 24.0357 120.334 24.1572 120.435 24.2455C120.535 24.3338 120.665 24.383 120.799 24.3839C120.933 24.3848 121.063 24.3374 121.165 24.2504L126.309 19.8194C126.339 19.7926 126.377 19.7751 126.417 19.7691C126.456 19.763 126.497 19.7687 126.534 19.7853C126.571 19.8019 126.602 19.8288 126.624 19.8628C126.646 19.8967 126.657 19.9361 126.656 19.9763V33.8487C126.656 33.8912 126.643 33.9326 126.619 33.9674C126.594 34.0022 126.559 34.0286 126.519 34.0431C126.479 34.0576 126.435 34.0595 126.394 34.0484C126.353 34.0374 126.316 34.014 126.288 33.9815L110.74 15.497C110.489 15.2037 110.178 14.968 109.827 14.8064C109.476 14.6447 109.094 14.5609 108.707 14.5608H108.163C107.457 14.5608 106.779 14.8394 106.28 15.3354C105.781 15.8314 105.5 16.5042 105.5 17.2056V36.7436C105.5 37.445 105.781 38.1177 106.28 38.6137C106.779 39.1097 107.457 39.3884 108.163 39.3884V39.3884C108.619 39.3885 109.066 39.2727 109.464 39.0521C109.862 38.8314 110.195 38.5133 110.434 38.128L115.66 30.4229C115.734 30.3119 115.766 30.1779 115.748 30.0457C115.731 29.9135 115.666 29.792 115.565 29.7037C115.465 29.6154 115.335 29.5662 115.201 29.5653C115.067 29.5644 114.937 29.6118 114.835 29.6987L109.691 34.1298C109.661 34.1565 109.623 34.174 109.583 34.1801C109.544 34.1862 109.503 34.1805 109.466 34.1639C109.429 34.1472 109.398 34.1203 109.376 34.0864C109.354 34.0525 109.343 34.013 109.344 33.9729V20.097C109.344 20.0545 109.357 20.0131 109.381 19.9783C109.406 19.9435 109.441 19.9171 109.481 19.9026C109.521 19.8881 109.565 19.8862 109.606 19.8973C109.647 19.9083 109.684 19.9317 109.712 19.9642L125.259 38.4522C125.509 38.7455 125.82 38.9811 126.171 39.1428C126.522 39.3045 126.905 39.3883 127.292 39.3884H127.835C128.185 39.3886 128.531 39.3204 128.855 39.1876C129.178 39.0547 129.472 38.86 129.719 38.6143C129.967 38.3687 130.163 38.0771 130.297 37.7561C130.431 37.4351 130.5 37.091 130.5 36.7436V17.2056C130.5 16.5042 130.219 15.8314 129.72 15.3354C129.221 14.8394 128.543 14.5608 127.837 14.5608C127.381 14.5607 126.934 14.6765 126.536 14.8971C126.138 15.1177 125.805 15.4359 125.566 15.8211V15.8211Z" fill="#111618"></path>
            </svg>
        </button>
        <p className='small-info'>
            Sign in with your NEAR account to play now!
        </p>
    </main>
    )
}
    